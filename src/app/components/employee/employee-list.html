<div class="emp-wrapper">
 
  <!-- Header Section -->
  <div class="emp-header">
    <div>
      <h1>Employee Management</h1>
      <p class="subtitle">Manage your organization's workforce efficiently</p>
    </div>
 
    <div class="header-actions">
      <button class="emp-btn primary" (click)="importBatch()">Batch Import</button>
      <button class="emp-btn primary" (click)="addEmployee()">Add Employee</button>
    </div>
  </div>
 
  <!-- Statistics Cards -->
  <div *ngIf="!error && !isLoading" class="stats-row">
 
    <div class="stats-card">
      <h6>Total Employees</h6>
      <h2>{{ totalEmployees }}</h2>
      <!-- <span class="tag blue">+5% this month</span> -->
    </div>
 
    <div class="stats-card">
      <h6>Active Employees</h6>
      <h2>{{ activeEmployeesCount }}</h2>
      <!-- <span class="tag green">
        {{ (activeEmployeesCount/totalEmployees*100).toFixed(1) }}% active
      </span> -->
    </div>
 
    <div class="stats-card">
      <h6>Departments</h6>
      <h2>{{ departmentsCount }}</h2>
      <!-- <span class="tag yellow">+2 new</span> -->
    </div>
 
    <div class="stats-card">
      <h6>Showing</h6>
      <h2>{{ showingEmployeesCount }}</h2>
      <!-- <span class="tag teal">Filtered results</span> -->
    </div>
 
  </div>
 
  <!-- Filters -->
  <div class="emp-card" *ngIf="!error">
    <h3>Search & Filters</h3>
 
    <div class="filter-grid">
 
      <div class="filter-box">
        <label>Search Employees</label>
        <input
          type="text"
          placeholder="Search by name, ID, email, or position..."
          [(ngModel)]="searchTerm"
          (input)="onSearchChange()"
        />
      </div>
 
      <div class="filter-box">
        <label>Filter by Department</label>
        <select [(ngModel)]="selectedDepartment" (change)="onDepartmentChange()">
          <option value="">All Departments</option>
          <option *ngFor="let dept of departments" [value]="dept.name">
            {{ dept.name }}
          </option>
        </select>
      </div>
 
      <div class="filter-box bottom-align">
        <button class="emp-btn outline" (click)="clearFilters()">Clear</button>
      </div>
 
    </div>
  </div>
 
  <!-- Loading State -->
  <div *ngIf="isLoading" class="emp-card center">
    <div class="loader"></div>
    <h3>Loading Employee Data</h3>
    <p>Please wait while we fetch the latest information...</p>
  </div>
 
  <!-- Employee Table -->
<div *ngIf="!isLoading && !error" class="recent-wrapper">
 
  <h2>Employee List</h2>
 
  <div *ngIf="filteredEmployees.length === 0" class="empty">
    No employees found.
  </div>
 
  <div class="table-responsive" *ngIf="filteredEmployees.length > 0">
 
    <table class="survey-table">
      <thead>
        <tr>
          <th>Sr No.</th>
          <th>Employee ID</th>
          <th>Name</th>
          <th>Position</th>
          <th>Email</th>
          <th>Department</th>
          <th>Status</th>
          <th>Join Date</th>
          <th style="width: 260px;">Actions</th>
        </tr>
      </thead>
 
      <tbody>
        <tr *ngFor="let employee of getPaginatedEmployees(); let i = index">
 
          <td>{{ getStartIndex() + i + 1 }}</td>
          <td class="bold primary">{{ employee.employeeId }}</td>
 
          <td>{{ employee.name }}</td>
 
          <td>{{ employee.position }}</td>
 
          <td>{{ employee.email }}</td>
 
          <td>
            <span class="dept-badge">{{ employee.department.name }}</span>
          </td>
 
          <td>
            <span class="status-badge"
              [ngClass]="employee.status?.toLowerCase() || 'unknown'">
              {{ employee.status || 'Unknown' }}
            </span>
          </td>
 
          <td>{{ employee.joinDate | date:'dd MMM yyyy' }}</td>
 
          <td class="action-col">
            <button class="btn edit-btn" (click)="editEmployee(employee.employeeId)">
              Edit
            </button>
 
            <button class="btn delete-btn" (click)="deleteEmployee(employee.employeeId)">
              Delete
            </button>
          </td>
 
        </tr>
      </tbody>
 
    </table>
 
  </div>
 
  <!-- Pagination -->
  <div class="pagination-controls" *ngIf="totalPages > 1">
 
    <button (click)="previousPage()" [disabled]="currentPage === 1" class="btn">
      Previous
    </button>
 
    <button
      *ngFor="let page of getVisiblePages()"
      (click)="goToPage(page)"
      [class.active]="page === currentPage"
      class="btn page-btn">
      {{ page }}
    </button>
 
    <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="btn">
      Next
    </button>
 
  </div>
 
</div>
 
 
</div>
 