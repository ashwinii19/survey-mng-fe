<div class="filters-container">

  <div class="filters-row">

    <!-- Survey -->
    <div class="filter-group">
      <label class="filter-label">Survey</label>
      <select
        class="filter-select"
        [(ngModel)]="selectedSurveyId"
        (ngModelChange)="surveyChanged($event)"
      >
        <option [ngValue]="null">-- Select Survey --</option>
        <option *ngFor="let s of surveys" [ngValue]="s.id ?? s.surveyId">
          {{ s.title }}
        </option>
      </select>
    </div>

    <!-- Department -->
    <div class="filter-group">
      <label class="filter-label">Department</label>
      <select
        class="filter-select"
        [(ngModel)]="selectedDepartmentId"
        (ngModelChange)="deptChanged($event)"
      >
        <!-- <option [ngValue]="null">-- All Departments --</option> -->
         <option [ngValue]="null">ALL Departments</option>
        <option *ngFor="let d of departments" [ngValue]="d.id ?? d.departmentId">
          {{ d.name }}
        </option>
      </select>
    </div>

    <!-- Apply -->
    <div class="filter-group apply-btn-group">
      <button class="apply-btn" (click)="apply()">
        Apply Filter
      </button>
    </div>

  </div>

</div>

<!-- â— INVALID ALERT BOX -->
<div *ngIf="showInvalidAlert" class="invalid-alert">
  {{ invalidMessage }}
</div>

<!-- ðŸ”„ POPUP LOADER -->
<div class="loader-popup" *ngIf="showLoader">
  <div class="loader-spinner"></div>
  <p>Applying Filter...</p>
</div>

